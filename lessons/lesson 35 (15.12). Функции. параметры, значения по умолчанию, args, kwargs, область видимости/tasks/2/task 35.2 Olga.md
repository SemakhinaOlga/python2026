# Практическое задание 35.2

Это задание относится ко второму блоку урока, посвященному управлению аргументами функций. В предыдущем блоке вы научились объявлять функции, передавать аргументы и возвращать значения. Сейчас мы сосредоточимся на безопасном использовании значений по умолчанию для параметров, включая работу с изменяемыми типами данных, а также закрепим правила порядка передачи позиционных и именованных аргументов. Это подводит к пониманию, как проектировать гибкие и надежные интерфейсы функций.

## Задания

### Описание задачи
Вы разрабатываете модуль для управления списком задач в простом планировщике. Нужно создать функцию `add_task`, которая добавляет новую задачу в общий список. У задачи есть обязательное название и несколько необязательных характеристик: приоритет (число), список тегов и статус выполнения.

Требования к функции:
1.  Функция принимает обязательный аргумент `title` (название задачи).
2.  Функция принимает необязательный аргумент `priority` (приоритет) со значением по умолчанию `1`.
3.  Функция принимает необязательный аргумент `tags` (список тегов) со значением по умолчанию. Необходимо избежать классической ошибки с изменяемым объектом.
4.  Функция принимает необязательный аргумент `completed` (статус выполнения) со значением по умолчанию `False`.
5.  Функция должна корректно обрабатывать вызовы как с позиционными, так и с именованными аргументами, соблюдая правильный порядок.
6.  Функция возвращает обновленный список всех задач. Каждая задача представлена словарем вида `{"title": "...", "priority": ..., "tags": [...], "completed": ...}`.

**Контекст:** Частая ошибка — задать значение по умолчанию `tags=[]`. Это приводит к тому, что все вызовы функции без указания `tags` начинают использовать один и тот же список в памяти, что приводит к накоплению тегов от разных задач. Вам нужно применить `None`-паттерн для безопасной инициализации.

### Пример входных и выходных данных

**Пример 1: Базовый вызов с позиционными аргументами**
```python
tasks = []
tasks = add_task(tasks, "Купить молоко")
print(tasks)
# Вывод: [{'title': 'Купить молоко', 'priority': 1, 'tags': [], 'completed': False}]

tasks = add_task(tasks, "Позвонить маме", 3)
print(tasks)
# Вывод: [
#   {'title': 'Купить молоко', 'priority': 1, 'tags': [], 'completed': False},
#   {'title': 'Позвонить маме', 'priority': 3, 'tags': [], 'completed': False}
# ]
```

**Пример 2: Вызов с именованными аргументами и изменением порядка**
```python
tasks = []
tasks = add_task(tasks, "Прочитать книгу", completed=True, tags=["развитие", "хобби"])
print(tasks)
# Вывод: [{'title': 'Прочитать книгу', 'priority': 1, 'tags': ['развитие', 'хобби'], 'completed': True}]

# Порядок именованных аргументов не важен
tasks = add_task(tasks, "Сделать зарядку", tags=["здоровье"], priority=2)
print(tasks[1])
# Вывод: {'title': 'Сделать зарядку', 'priority': 2, 'tags': ['здоровье'], 'completed': False}
```

**Пример 3: Демонстрация работы None-паттерна (важный тест)**
```python
tasks = []
tasks = add_task(tasks, "Задача 1")
tasks[0]["tags"].append("мой_тег") # Модифицируем теги у первой задачи

tasks = add_task(tasks, "Задача 2")
print(tasks[1]["tags"])
# Вывод: []  # Теги второй задачи должны быть пустым списком, а не ['мой_тег']
# Если бы использовалось значение по умолчанию tags=[], вывод был бы ['мой_тег'].
```

### Критерии проверки и ограничения
1.  Функция `add_task` должна строго следовать объявленной сигнатуре, учитывая порядок параметров.
2.  Значение по умолчанию для параметра `tags` должно быть реализовано безопасно, с использованием `None`-паттерна.
3.  Внутри функции не должно быть операций, изменяющих переданные аргументы (кроме добавления новой задачи в список `tasks`).
4.  Запрещено использовать темы из будущих блоков: `*args`, `**kwargs`, распаковка, кортежи и словари как часть механизма переменного числа аргументов, область видимости (кроме локальных переменных внутри функции), `global`, замыкания.
5.  Код должен быть читаемым и соответствовать базовым принципам PEP8.

### Решение задачи (псевдокод)
1.  Объяви функцию `add_task` с параметрами: `tasks_list`, `title`, `priority`, `tags`, `completed`.
2.  Для параметра `priority` установи значение по умолчанию `1`.
3.  Для параметра `tags` установи значение по умолчанию `None`.
4.  Для параметра `completed` установи значение по умолчанию `False`.
5.  Внутри функции:
    a.  Проверь, равен ли аргумент `tags` значению `None`.
    b.  Если да, создай новый пустой список и присвой его переменной для работы.
    c.  Если нет, используй переданный список.
6.  Создай словарь `new_task`, где ключами будут строки "title", "priority", "tags", "completed", а значениями — соответствующие аргументы функции.
7.  Добавь словарь `new_task` в конец списка `tasks_list`.
8.  Верни список `tasks_list` как результат работы функции.

### Рекомендации
-   Вынести в отдельную функцию: Саму операцию создания словаря задачи можно было бы вынести в отдельную вспомогательную функцию `create_task(title, priority, tags, completed)` для улучшения читаемости и возможности повторного использования, но в рамках данной задачи это не является обязательным.
-   PEP8:
    -   Используй осмысленные имена переменных. `tasks_list` лучше, чем просто `t`. `new_task` понятнее, чем `nt`.
    -   После запятой в параметрах функции и элементах списка ставь пробел. Правильно: `def add_task(tasks_list, title, priority=1, tags=None, completed=False):`.
