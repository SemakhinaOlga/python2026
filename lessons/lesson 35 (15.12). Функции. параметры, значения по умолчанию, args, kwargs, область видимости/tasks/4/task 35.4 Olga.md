# Практическое задание 35.4

## Задания

### Описание задачи
В предыдущих блоках ты научилась создавать функции, передавать аргументы позиционно и по имени, использовать значения по умолчанию, а также работать с переменным числом аргументов через `*args` и `**kwargs`. Теперь важно закрепить понимание **области видимости переменных** — как функции взаимодействуют с внешним миром и какие переменные им доступны.

Твоя задача — написать программу, которая моделирует простой **счётчик активности** для разных пользователей. Программа должна уметь:
1.  Создавать и возвращать функцию-счётчик для конкретного пользователя, используя **замыкание**. Эта внутренняя функция должна увеличивать свой персональный счётчик на 1 при каждом вызове и возвращать его текущее значение.
2.  Использовать **глобальную переменную** для отслеживания общего количества всех вызовов всех счётчиков.
3.  Корректно разделять **локальные переменные** (личный счётчик пользователя) и **глобальные** (общий счётчик).

**Контекст:** Представь, что ты пишешь модуль для приложения, где нужно отслеживать, сколько раз каждый пользователь выполнил определённое действие (например, нажал кнопку), а также знать общее число всех таких действий в системе.

### Пример входных и выходных данных
**Пример работы программы:**
```python
# Создаём счётчики для двух пользователей
user1_counter = create_user_counter("Анна")
user2_counter = create_user_counter("Борис")

# Анна выполняет действие несколько раз
print(user1_counter())  # Анна: 1
print(user1_counter())  # Анна: 2
print(user1_counter())  # Анна: 3

# Борис выполняет действие
print(user2_counter())  # Борис: 1

# Проверяем общую статистику
print(f"Всего действий в системе: {total_actions}")
```
**Ожидаемый вывод:**
```
Анна: 1
Анна: 2
Анна: 3
Борис: 1
Всего действий в системе: 4
```

**Пояснение к примеру:**
*   Функция `create_user_counter` создаёт и возвращает другую функцию (замыкание). Эта внутренняя функция "помнит" имя пользователя (`user_name`) и свой собственный счётчик (`count`), который является её **локальной переменной** (или переменной внешней функции, захваченной в замыкание).
*   При каждом вызове возвращённой функции её локальный счётчик увеличивается.
*   Переменная `total_actions` объявлена на уровне модуля (**глобальная переменная**). Каждый счётчик должен увеличивать её значение, используя ключевое слово `global` внутри себя, чтобы изменить глобальную, а не создать локальную переменную с таким же именем.

### Критерии проверки и ограничения
1.  **Обязательное использование замыкания:** Функция `create_user_counter` должна возвращать другую функцию, которая использует переменные из внешней области видимости.
2.  **Управление областью видимости:**
    *   Личный счётчик пользователя должен быть **локальной переменной** (например, внутри `create_user_counter` или внутри возвращаемой функции), чтобы у каждого пользователя был свой независимый счёт.
    *   Общий счётчик `total_actions` должен быть **глобальной переменной**. Для его изменения внутри возвращаемой функции необходимо использовать объявление `global`.
3.  **Корректный вывод:** Возвращаемая функция должна возвращать строку в формате `"<имя_пользователя>: <текущее_значение_счётчика>"`.
4.  **Запрещённые темы:** Не используй классы, декораторы или другие концепции, не изученные в рамках этого блока. Фокус — на области видимости (`global`, локальные переменные, замыкание) и интеграции этих понятий.

### Решение задачи (псевдокод)
1.  Объяви глобальную переменную `total_actions` и инициализируй её нулём.
2.  Определи функцию `create_user_counter`, которая принимает один параметр `user_name`.
    1.  Создай локальную переменную `count` и инициализируй её нулём. Эта переменная будет "захвачена" замыканием.
    2.  Внутри `create_user_counter` определи другую функцию (например, `counter`). Эта функция не принимает параметров.
        1.  Внутри `counter` объяви, что переменная `total_actions` является глобальной.
        2.  Увеличь значение глобальной переменной `total_actions` на 1.
        3.  Увеличь значение захваченной переменной `count` на 1.
        4.  Верни строку, которая содержит `user_name` и новое значение `count`.
    3.  Верни функцию `counter` как результат работы `create_user_counter`.
3.  В основном коде вызови `create_user_counter` для разных имён, чтобы получить их персональные функции-счётчики.
4.  Вызови полученные функции несколько раз и выведи результаты.
5.  Выведи значение глобальной переменной `total_actions`.

### Рекомендации
*   **Вынести в отдельную функцию:** Основную логику счётчика уже необходимо вынести в функцию `create_user_counter`. Убедись, что внутренняя функция (`counter`) является замыканием, то есть использует переменные `user_name` и `count` из внешней функции.
*   **PEP8:**
    *   Используй осмысленные имена переменных и функций (`create_user_counter`, `total_actions` вместо `f1`, `x`).
    *   После определения функции оставляй две пустые строки. Внутри функций отделяй логические блоки одной пустой строкой (например, объявление `global` и операции увеличения счётчиков).
